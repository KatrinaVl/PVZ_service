# PVZ_service

## Инструкция по запуску

1. Склонировать репозиторий

```
git clone https://github.com/KatrinaVl/PVZ_service
```
2. запустить docker-compose.yml
```
docker-compose up --build
```

Сервис запущен. 

### Запуск тестов

Чтобы запустить тесты, необходимо сначала запустить сервис, а затем в другом терминале в корне директории запустить:
```
docker-compose exec pvz_service pytest -W ignore tests 
```
Чтобы проверить покрытие тестов:
```
docker-compose exec pvz_service coverage run -m pytest -W ignore
docker-compose exec pvz_service coverage report 
```
### Проверка таблиц

Для того, чтобы посмотреть данные таблицы через терминал необходимо запустить сервис и затем выполнить:

```
docker-compose exec db psql -U kv pvz
```

И потом выполнять SQL-команды.

## Вопросы

1. Мне немного непонятно, к какой роли относится "Сотрудник ПВЗ". 

По идее, эта роль чуть слабее модератора, так как модератор управляет сервисом, а клиент не может обладать правами, каким обладает "Сотрудник ПВЗ" (тогда наверное это было отражено в условии). 

Поэтому я добавила в таблицу с информацией о пользователях, информацию о роли "worker" - сотрудник ПВЗ, к которым прикреплен id ПВЗ, в котором они работают. 
Таким образом я могу также предотвратить ситуацию, когда сотрудник одного ПВЗ, может выполнять действия, зная id другого ПВЗ.

Но для этого есть проблемка, что в /dummyLogin необходимо отправлять также индекс ПВЗ.

2. Пагинация

Не очень было понятно, какие эелементы имеются в виду, в параметре limit. 
Я из контекста и пункта 8 поняла так, что там имеются в виду конкретно пункты ПВЗ. 
Поэтому я вывожу непосредственно пункты ПВЗ, со всей информацией по ним. 

3. Нефункциональные требования.

Я пыталась воспроизвести эти показатели на своей машине, с помощью утилиты k6, где проводила нагрузочное тестирование и анализировала параметры. Однако я не смогла приблизиться к ним.
Я же правильно опнимаю, что вы будете проверять их в своем контейнере?

Просто от мощности машины зависят минимум две верхние метрики - ведь, чем мощнее машина (железо), тем лучше метрики оно будет показывать. (Вертикальное масштабирование). 
И не было предоставлено информации о том, на какой машинке метрики были взяты. 
И получается, что не совсем справедливо полагать, что ученик с не мощной машинкой получит такие же метрики как ученик с мощной машинкой.

Скрипт script.js можно запускать:
```

```